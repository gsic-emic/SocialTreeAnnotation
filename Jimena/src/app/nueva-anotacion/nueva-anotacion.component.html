<app-menu-usuarios></app-menu-usuarios>
<div class="container">
    <div [hidden]="confirmacion">
    <div class="titulo">NUEVA ANOTACIÓN</div>
    <div [hidden]="submitted">
        <form class="formulario" (ngSubmit)="onSubmit()" #ArbolForm="ngForm">
            <div class="aclaracion">1. Campos obligatorios</div>
            <div class="nueva">
                <div class="form-group">
                    <label class="entrada" for="imagen"><i class="fas fa-camera"></i> Insertar imagen </label>
                        <input type="file" class="form-control" [(ngModel)]="imagen" name="imagen" required>
                </div>
                <div class="form-group">
                    <label class="entrada" for="ubicacion"><i class="fas fa-map-marker-alt"></i> Ubicación </label>
                        <input type="number" class="form-control" id="lat" placeholder="Latitud" required 
                             [(ngModel)]="lat" name="lat"> 
                        <input type="number" class="form-control" id="long" placeholder="Longitud" required
                             [(ngModel)]="long" name="long">
                </div>
            </div>

            <div class="aclaracion">2. Más información</div>
            <div class="nueva">
                <div class="form-group">
                    <label class="entrada" for="especie"><i class="fab fa-pagelines"></i> Especie:</label>
                    <input type="text" class="form-control" id="especie" placeholder="Especie"
                        [(ngModel)]="especie" name="especie">
                </div>
                <div class="form-group">
                    <label class="entrada" for="hoja"><i class="fas fa-leaf"></i> Tipo de hoja:</label>
                    <input type="text" class="form-control" id="hoja" placeholder="Tipo de hoja"
                        [(ngModel)]="hoja" name="hoja">
                </div>

                <div class="form-group">
                    <label class="entrada" for="fruto"><i class="fas fa-apple-alt"></i> Tipo de fruto:</label>
                    <input type="text" class="form-control" id="fruto" placeholder="Fruto"
                        [(ngModel)]="fruto" name="fruto">
                </div>
            </div>
            <div class="botones">
                <div class="boton">
                    <button type="button" class="btn btn-warning" (click)="borrar_datos()">Borrar todo </button>
                </div>
                <div class="boton">
                    <button type="submit" class="btn btn-success" [disabled]="!ArbolForm.form.valid">Siguiente</button>   <!--aquí se va a confirm-->
                </div>
            </div>
        </form>
    </div>


<!-- confirm-->
<div class="recopilacion" [hidden]="!submitted">
    <div class="aclaracion">Se va a crear la siguiente anotación en el sistema:</div>
    <div class="anot_nueva">
        <p [hidden]="!especie"><i class="fab fa-pagelines"></i> Especie: {{especie}}</p>
        <p><i class="fas fa-camera"></i> Imagen: {{imagen}} </p>
        <p><i class="fas fa-map-marker-alt"></i> Latitud: {{lat}} </p>
        <p><i class="fas fa-map-marker-alt"></i> Longitud: {{long}}</p>
        <p [hidden]="!hoja"><i class="fab fa-pagelines"></i> Tipo de hoja: {{hoja}}</p>
        <p [hidden]="!fruto"><i class="fas fa-apple-alt"></i> Tipo de fruto: {{fruto}}</p>
        <br>
        <p><i class="fas fa-clock"></i> Fecha de creación: {{fecha}}</p>
    </div>
    <form (ngSubmit)="onSubmit2()">
        <div class="botones">
            <div class="boton">
                <button type="button" class="btn btn-primary" (click)="volver()"><i class="fas fa-chevron-left"></i> Volver</button>
            </div>
            <div class="boton">
                <button type="submit" class="btn btn-success" (click)="crearArbol()"><i class="fas fa-check"></i> Confirmar</button>
            </div>
            <div class="boton">
                <button type="button" class="btn btn-danger" (click)="borrar_datos()"><i class="far fa-trash-alt"></i> Cancelar</button>
            </div>
        </div>
        </form>
  </div>
</div>

<div [hidden]="!confirmacion">
    <div class="aviso">
        <div class="alert alert-warning" role="alert">
          ¡El árbol se ha registrado correctamente en el sistema!
        </div>
      </div>
   <!-- <app-info-anotacion [arbol]="arbol"></app-info-anotacion>-->
   <div class="botones">
        <div class="boton">
            <button type="button" class="btn btn-primary"> <a [routerLink]="['/mis_anot']">Ver mis anotaciones</a></button>
        </div>
        <div class="boton">
            <button type="submit" class="btn btn-success" (click)="borrar_datos()"><i class="fas fa-check"></i> Crear nuevo árbol</button>
        </div>
    </div>
</div>
</div>
